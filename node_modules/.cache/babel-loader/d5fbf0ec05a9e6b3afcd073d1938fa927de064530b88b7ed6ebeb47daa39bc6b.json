{"ast":null,"code":"// src/App.jsx\nimport{useState,useEffect}from'react';import{initializeApp}from'firebase/app';import{getDatabase,ref,onValue,set}from'firebase/database';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[message,setMessage]=useState('Loading...');const[newMessage,setNewMessage]=useState('');useEffect(()=>{// Firebase configuration\n// Replace with your own Firebase config\nconst firebaseConfig={apiKey:\"YOUR_API_KEY\",authDomain:\"your-project-id.firebaseapp.com\",databaseURL:\"https://your-project-id-default-rtdb.firebaseio.com\",projectId:\"your-project-id\",storageBucket:\"your-project-id.appspot.com\",messagingSenderId:\"YOUR_MESSAGING_SENDER_ID\",appId:\"YOUR_APP_ID\"};// Initialize Firebase\nconst app=initializeApp(firebaseConfig);const database=getDatabase(app);const messageRef=ref(database,'message');// Listen for changes to the message in Firebase\nconst unsubscribe=onValue(messageRef,snapshot=>{const data=snapshot.val();if(data){setMessage(data);}else{// If no message exists yet, set the default message\nset(messageRef,'Hello World!');}});// Clean up the listener\nreturn()=>unsubscribe();},[]);const updateMessage=e=>{e.preventDefault();if(newMessage.trim()){const database=getDatabase();set(ref(database,'message'),newMessage);setNewMessage('');}};return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(\"header\",{className:\"App-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:message}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:updateMessage,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newMessage,onChange:e=>setNewMessage(e.target.value),placeholder:\"Type a new message\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Update Message\"})]})]})});}export default App;","map":{"version":3,"names":["useState","useEffect","initializeApp","getDatabase","ref","onValue","set","jsx","_jsx","jsxs","_jsxs","App","message","setMessage","newMessage","setNewMessage","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","app","database","messageRef","unsubscribe","snapshot","data","val","updateMessage","e","preventDefault","trim","className","children","onSubmit","type","value","onChange","target","placeholder"],"sources":["/Users/necsi/Documents/GitHub/firebase-hello-world/src/App.js"],"sourcesContent":["\n\n// src/App.jsx\nimport { useState, useEffect } from 'react';\nimport { initializeApp } from 'firebase/app';\nimport { getDatabase, ref, onValue, set } from 'firebase/database';\n\nfunction App() {\n  const [message, setMessage] = useState('Loading...');\n  const [newMessage, setNewMessage] = useState('');\n\n  useEffect(() => {\n    // Firebase configuration\n    // Replace with your own Firebase config\n    const firebaseConfig = {\n      apiKey: \"YOUR_API_KEY\",\n      authDomain: \"your-project-id.firebaseapp.com\",\n      databaseURL: \"https://your-project-id-default-rtdb.firebaseio.com\",\n      projectId: \"your-project-id\",\n      storageBucket: \"your-project-id.appspot.com\",\n      messagingSenderId: \"YOUR_MESSAGING_SENDER_ID\",\n      appId: \"YOUR_APP_ID\"\n    };\n\n    // Initialize Firebase\n    const app = initializeApp(firebaseConfig);\n    const database = getDatabase(app);\n    const messageRef = ref(database, 'message');\n\n    // Listen for changes to the message in Firebase\n    const unsubscribe = onValue(messageRef, (snapshot) => {\n      const data = snapshot.val();\n      if (data) {\n        setMessage(data);\n      } else {\n        // If no message exists yet, set the default message\n        set(messageRef, 'Hello World!');\n      }\n    });\n\n    // Clean up the listener\n    return () => unsubscribe();\n  }, []);\n\n  const updateMessage = (e) => {\n    e.preventDefault();\n    if (newMessage.trim()) {\n      const database = getDatabase();\n      set(ref(database, 'message'), newMessage);\n      setNewMessage('');\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h1>{message}</h1>\n        <form onSubmit={updateMessage}>\n          <input\n            type=\"text\"\n            value={newMessage}\n            onChange={(e) => setNewMessage(e.target.value)}\n            placeholder=\"Type a new message\"\n          />\n          <button type=\"submit\">Update Message</button>\n        </form>\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"AAEA;AACA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,OAASC,aAAa,KAAQ,cAAc,CAC5C,OAASC,WAAW,CAAEC,GAAG,CAAEC,OAAO,CAAEC,GAAG,KAAQ,mBAAmB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEnE,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGb,QAAQ,CAAC,YAAY,CAAC,CACpD,KAAM,CAACc,UAAU,CAAEC,aAAa,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CAEhDC,SAAS,CAAC,IAAM,CACd;AACA;AACA,KAAM,CAAAe,cAAc,CAAG,CACrBC,MAAM,CAAE,cAAc,CACtBC,UAAU,CAAE,iCAAiC,CAC7CC,WAAW,CAAE,qDAAqD,CAClEC,SAAS,CAAE,iBAAiB,CAC5BC,aAAa,CAAE,6BAA6B,CAC5CC,iBAAiB,CAAE,0BAA0B,CAC7CC,KAAK,CAAE,aACT,CAAC,CAED;AACA,KAAM,CAAAC,GAAG,CAAGtB,aAAa,CAACc,cAAc,CAAC,CACzC,KAAM,CAAAS,QAAQ,CAAGtB,WAAW,CAACqB,GAAG,CAAC,CACjC,KAAM,CAAAE,UAAU,CAAGtB,GAAG,CAACqB,QAAQ,CAAE,SAAS,CAAC,CAE3C;AACA,KAAM,CAAAE,WAAW,CAAGtB,OAAO,CAACqB,UAAU,CAAGE,QAAQ,EAAK,CACpD,KAAM,CAAAC,IAAI,CAAGD,QAAQ,CAACE,GAAG,CAAC,CAAC,CAC3B,GAAID,IAAI,CAAE,CACRhB,UAAU,CAACgB,IAAI,CAAC,CAClB,CAAC,IAAM,CACL;AACAvB,GAAG,CAACoB,UAAU,CAAE,cAAc,CAAC,CACjC,CACF,CAAC,CAAC,CAEF;AACA,MAAO,IAAMC,WAAW,CAAC,CAAC,CAC5B,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAI,aAAa,CAAIC,CAAC,EAAK,CAC3BA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GAAInB,UAAU,CAACoB,IAAI,CAAC,CAAC,CAAE,CACrB,KAAM,CAAAT,QAAQ,CAAGtB,WAAW,CAAC,CAAC,CAC9BG,GAAG,CAACF,GAAG,CAACqB,QAAQ,CAAE,SAAS,CAAC,CAAEX,UAAU,CAAC,CACzCC,aAAa,CAAC,EAAE,CAAC,CACnB,CACF,CAAC,CAED,mBACEP,IAAA,QAAK2B,SAAS,CAAC,KAAK,CAAAC,QAAA,cAClB1B,KAAA,WAAQyB,SAAS,CAAC,YAAY,CAAAC,QAAA,eAC5B5B,IAAA,OAAA4B,QAAA,CAAKxB,OAAO,CAAK,CAAC,cAClBF,KAAA,SAAM2B,QAAQ,CAAEN,aAAc,CAAAK,QAAA,eAC5B5B,IAAA,UACE8B,IAAI,CAAC,MAAM,CACXC,KAAK,CAAEzB,UAAW,CAClB0B,QAAQ,CAAGR,CAAC,EAAKjB,aAAa,CAACiB,CAAC,CAACS,MAAM,CAACF,KAAK,CAAE,CAC/CG,WAAW,CAAC,oBAAoB,CACjC,CAAC,cACFlC,IAAA,WAAQ8B,IAAI,CAAC,QAAQ,CAAAF,QAAA,CAAC,gBAAc,CAAQ,CAAC,EACzC,CAAC,EACD,CAAC,CACN,CAAC,CAEV,CAEA,cAAe,CAAAzB,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}